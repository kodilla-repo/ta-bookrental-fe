{"version":3,"sources":["webpack:///./src/pages/Rents/Rents.vue?a839","webpack:///./src/components/RentsList.vue?e916","webpack:///src/components/RentsList.vue","webpack:///./src/components/RentsList.vue?6881","webpack:///./src/components/RentsList.vue","webpack:///./src/components/RentForm.vue?9783","webpack:///src/components/RentForm.vue","webpack:///./src/components/RentForm.vue?c01c","webpack:///./src/components/RentForm.vue","webpack:///src/pages/Rents/Rents.vue","webpack:///./src/pages/Rents/Rents.vue?ae01","webpack:///./src/pages/Rents/Rents.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","domProps","_s","on","$event","$router","go","_e","rents","length","errorMessage","loading","addRent","addFormVisible","rentToEdit","editRent","editFormVisible","removeRent","staticRenderFns","_l","rent","key","id","customerName","rentDate","$emit","name","props","type","Array","required","components","component","preventDefault","handleSubmit","label","model","value","form","callback","$$v","$set","expression","data","Object","String","default","methods","created","JSON","parse","stringify","expirationDate","mixins","computed"],"mappings":"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","file":"js/rents.31001068.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rents page\",attrs:{\"id\":\"rents\"}},[_c('div',{staticClass:\"flex flex-align--center\"},[_c('h2',{staticClass:\"sub-title flex-grow--1 margin-right--1\",domProps:{\"textContent\":_vm._s('Rents history')}}),_c('button-item',{staticClass:\"btn--small flex-grow--0\",attrs:{\"name\":\"return-button\",\"text\":\"< Return\",\"id\":\"return-button\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}})],1),(_vm.loading)?_c('spinner'):_vm._e(),(!_vm.rents.length && !_vm.errorMessage && !_vm.loading)?_c('alert',{attrs:{\"type\":\"info\",\"content\":\"No rents...\"}}):_vm._e(),(_vm.errorMessage.length)?_c('alert',{attrs:{\"type\":\"error\",\"content\":_vm.errorMessage}}):_vm._e(),(_vm.addFormVisible)?_c('rent-form',{attrs:{\"label\":'Add copy'},on:{\"submit\":_vm.addRent,\"cancel\":function($event){_vm.addFormVisible = false}}}):_vm._e(),(_vm.editFormVisible)?_c('rent-form',{attrs:{\"type\":\"edit\",\"data\":_vm.rentToEdit,\"label\":'Edit copy'},on:{\"submit\":_vm.editRent,\"cancel\":function($event){_vm.editFormVisible = false}}}):_vm._e(),(_vm.rents.length)?_c('rents-list',{attrs:{\"rents\":_vm.rents},on:{\"remove\":_vm.removeRent,\"edit\":function($event){_vm.rentToEdit = $event; _vm.editFormVisible = true}}}):_vm._e(),_c('button-item',{attrs:{\"name\":\"add-rent-button\",\"text\":\"Rent this copy\",\"id\":\"add-rent-button\"},on:{\"click\":function($event){_vm.addFormVisible = true}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"rents-list list\"},_vm._l((_vm.rents),function(rent){return _c('li',{key:rent.id,staticClass:\"rents-list__rent list__item\",attrs:{\"id\":(\"rent-\" + (rent.id))}},[_c('div',{staticClass:\"rents-list__rent__customer-name list__item__col list__item__col--primary\",domProps:{\"textContent\":_vm._s(rent.customerName)}}),_c('div',{staticClass:\"rents-list__rent__rent-date list__item__col\",domProps:{\"textContent\":_vm._s(rent.rentDate)}}),_c('div',{staticClass:\"rents-list__rent__rent-date list__item__col\",domProps:{\"textContent\":_vm._s((\"(expiration: \" + (rent.expirationDate) + \")\"))}}),_c('div',{staticClass:\"rents-list__rent__actions list__item__actions\"},[_c('button-item',{staticClass:\"edit-btn btn--small\",attrs:{\"text\":\"Edit\",\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.$emit('edit', rent)}}}),_c('button-item',{staticClass:\"remove-btn btn--small\",attrs:{\"text\":\"Remove\",\"variant\":\"error\"},on:{\"click\":function($event){return _vm.$emit('remove', rent.id)}}})],1)])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ul class=\"rents-list list\">\r\n    <li\r\n      v-for=\"rent in rents\"\r\n      :key=\"rent.id\"\r\n      :id=\"`rent-${rent.id}`\"\r\n      class=\"rents-list__rent list__item\">\r\n\r\n      <!-- customer name -->\r\n      <div\r\n        class=\"rents-list__rent__customer-name list__item__col list__item__col--primary\"\r\n        v-text=\"rent.customerName\" />\r\n\r\n      <!-- rent date -->\r\n      <div\r\n        class=\"rents-list__rent__rent-date list__item__col\"\r\n        v-text=\"rent.rentDate\" />\r\n\r\n      <!-- expiration date date -->\r\n      <div\r\n        class=\"rents-list__rent__rent-date list__item__col\"\r\n        v-text=\"`(expiration: ${rent.expirationDate})`\" />\r\n\r\n      <div class=\"rents-list__rent__actions list__item__actions\">\r\n\r\n        <!-- edit btn -->\r\n        <button-item\r\n          @click=\"$emit('edit', rent)\"\r\n          class=\"edit-btn btn--small\"\r\n          text=\"Edit\"\r\n          variant=\"warning\" />\r\n\r\n        <!-- remove btn -->\r\n        <button-item\r\n          @click=\"$emit('remove', rent.id)\"\r\n          class=\"remove-btn btn--small\"\r\n          text=\"Remove\"\r\n          variant=\"error\" />\r\n\r\n      </div>\r\n\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport ButtonItem from '@/components/UI/Button'\r\n\r\nexport default {\r\n  name: 'RentsList',\r\n  props: {\r\n    rents: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  components: { ButtonItem }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RentsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RentsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RentsList.vue?vue&type=template&id=3ec96b98&\"\nimport script from \"./RentsList.vue?vue&type=script&lang=js&\"\nexport * from \"./RentsList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('fog',{on:{\"cancel\":function($event){return _vm.$emit('cancel')}}},[_c('form',{staticClass:\"form rent-form form--short form--uncut\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('h2',{staticClass:\"sub-rent\",domProps:{\"textContent\":_vm._s(_vm.label)}}),(_vm.errorMessage.length)?_c('alert',{attrs:{\"type\":\"error\",\"content\":_vm.errorMessage}}):_vm._e(),_c('input-field',{attrs:{\"name\":\"customer-name\",\"type\":\"text\",\"label\":\"Customer name\"},model:{value:(_vm.form.customerName),callback:function ($$v) {_vm.$set(_vm.form, \"customerName\", $$v)},expression:\"form.customerName\"}}),_c('datepicker',{staticClass:\"input\",attrs:{\"id\":\"rent-date\",\"name\":\"rent-date\",\"label\":\"Rent date\",\"format\":\"yyyy-MM-dd\"},model:{value:(_vm.form.rentDate),callback:function ($$v) {_vm.$set(_vm.form, \"rentDate\", $$v)},expression:\"form.rentDate\"}}),(_vm.type === 'edit')?_c('datepicker',{staticClass:\"input\",attrs:{\"id\":\"expiration-date\",\"name\":\"expiration-date\",\"label\":\"Expiration date\",\"format\":\"yyyy-MM-dd\"},model:{value:(_vm.form.expirationDate),callback:function ($$v) {_vm.$set(_vm.form, \"expirationDate\", $$v)},expression:\"form.expirationDate\"}}):_vm._e(),_c('button-rent',{attrs:{\"name\":\"submit-button\",\"text\":_vm.label,\"variant\":\"primary\"},on:{\"click\":_vm.handleSubmit}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <fog @cancel=\"$emit('cancel')\">\r\n    <form class=\"form rent-form form--short form--uncut\" @submit.prevent=\"handleSubmit\">\r\n\r\n      <!-- heading -->\r\n      <h2\r\n        class=\"sub-rent\"\r\n        v-text=\"label\" />\r\n\r\n      <!-- error alert -->\r\n      <alert\r\n        v-if=\"errorMessage.length\"\r\n        type=\"error\"\r\n        :content=\"errorMessage\" />\r\n\r\n      <!-- customer name -->\r\n      <input-field\r\n        name=\"customer-name\"\r\n        type=\"text\"\r\n        label=\"Customer name\"\r\n        v-model=\"form.customerName\"/>\r\n\r\n      <!-- rent date -->\r\n      <datepicker\r\n        id=\"rent-date\"\r\n        class=\"input\"\r\n        name=\"rent-date\"\r\n        label=\"Rent date\"\r\n        format=\"yyyy-MM-dd\"\r\n        v-model=\"form.rentDate\" />\r\n\r\n      <!-- expiration date-->\r\n      <datepicker\r\n        v-if=\"type === 'edit'\"\r\n        id=\"expiration-date\"\r\n        class=\"input\"\r\n        name=\"expiration-date\"\r\n        label=\"Expiration date\"\r\n        format=\"yyyy-MM-dd\"\r\n        v-model=\"form.expirationDate\" />\r\n\r\n      <!-- add button -->\r\n      <button-rent\r\n        name=\"submit-button\"\r\n        @click=\"handleSubmit\"\r\n        :text=\"label\"\r\n        variant=\"primary\" />\r\n\r\n    </form>\r\n  </fog>\r\n</template>\r\n\r\n<script>\r\nimport Fog from '@/components/UI/Fog'\r\nimport Alert from '@/components/UI/Alert'\r\nimport ButtonRent from '@/components/UI/Button'\r\nimport InputField from '@/components/UI/Input'\r\nimport Datepicker from '@/components/UI/Datepicker'\r\n\r\nimport { addDays, dateToStr } from '@/utils'\r\n\r\nexport default {\r\n  name: 'RentForm',\r\n  props: {\r\n    data: Object,\r\n    label: String,\r\n    type: {\r\n      type: String,\r\n      default: 'add'\r\n    }\r\n  },\r\n  data: () => ({\r\n    form: {\r\n      id: null,\r\n      customerName: '',\r\n      rentDate: '',\r\n      expirationDate: ''\r\n    },\r\n    errorMessage: ''\r\n  }),\r\n  methods: {\r\n\r\n    async handleSubmit (e) {\r\n      this.errorMessage = ''\r\n      for (const param in this.form) {\r\n        if (!this.form[param] && param !== 'id') {\r\n          this.errorMessage = `\"${param}\" field shouldn't be empty...`\r\n          return false\r\n        }\r\n      }\r\n\r\n      this.$emit('submit', this.form)\r\n    }\r\n\r\n  },\r\n  created () {\r\n    if (this.data) this.form = JSON.parse(JSON.stringify(this.data))\r\n    if (this.type === 'add') {\r\n      this.form.rentDate = dateToStr(new Date())\r\n      this.form.expirationDate = dateToStr(addDays(new Date(), 3))\r\n    }\r\n  },\r\n  components: { Alert, ButtonRent, Fog, Datepicker, InputField }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RentForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RentForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RentForm.vue?vue&type=template&id=4160bb6d&\"\nimport script from \"./RentForm.vue?vue&type=script&lang=js&\"\nexport * from \"./RentForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"rents\" class=\"rents page\">\r\n\r\n    <div class=\"flex flex-align--center\">\r\n\r\n      <!-- heading -->\r\n      <h2\r\n        class=\"sub-title flex-grow--1 margin-right--1\"\r\n        v-text=\"'Rents history'\" />\r\n\r\n      <!-- return btn -->\r\n      <button-item\r\n        class=\"btn--small flex-grow--0\"\r\n        @click=\"$router.go(-1)\"\r\n        name=\"return-button\"\r\n        text=\"< Return\"\r\n        id=\"return-button\" />\r\n\r\n    </div>\r\n\r\n    <!-- spinner -->\r\n    <spinner\r\n      v-if=\"loading\" />\r\n\r\n    <!-- alert -->\r\n    <alert\r\n      v-if=\"!rents.length && !errorMessage && !loading\"\r\n      type=\"info\"\r\n      content=\"No rents...\" />\r\n\r\n    <!-- error alert -->\r\n    <alert\r\n      v-if=\"errorMessage.length\"\r\n      type=\"error\"\r\n      :content=\"errorMessage\" />\r\n\r\n    <!-- rent add form -->\r\n    <rent-form\r\n      v-if=\"addFormVisible\"\r\n      @submit=\"addRent\"\r\n      @cancel=\"addFormVisible = false\"\r\n      :label=\"'Add copy'\" />\r\n\r\n    <!-- rent edit form -->\r\n    <rent-form\r\n      v-if=\"editFormVisible\"\r\n      type=\"edit\"\r\n      :data=\"rentToEdit\"\r\n      @submit=\"editRent\"\r\n      @cancel=\"editFormVisible = false\"\r\n      :label=\"'Edit copy'\" />\r\n\r\n    <!-- rents list -->\r\n    <rents-list\r\n      v-if=\"rents.length\"\r\n      :rents=\"rents\"\r\n      @remove=\"removeRent\"\r\n      @edit=\"rentToEdit = $event; editFormVisible = true\" />\r\n\r\n    <!-- add rent btn -->\r\n    <button-item\r\n      @click=\"addFormVisible = true\"\r\n      name=\"add-rent-button\"\r\n      text=\"Rent this copy\"\r\n      id=\"add-rent-button\" />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AuthMixin from '@/mixins/authMixin'\r\nimport Alert from '@/components/UI/Alert'\r\nimport RentsList from '@/components/RentsList'\r\nimport Spinner from '@/components/UI/Spinner'\r\nimport ButtonItem from '@/components/UI/Button'\r\nimport RentForm from '@/components/RentForm'\r\n\r\nimport { mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Rents',\r\n  mixins: [AuthMixin],\r\n  data: () => ({\r\n    loading: false,\r\n    errorMessage: '',\r\n    rentToEdit: null,\r\n    editFormVisible: false,\r\n    addFormVisible: false\r\n  }),\r\n  computed: {\r\n    rents () { return this.$store.state.rents }\r\n  },\r\n  methods: {\r\n    ...mapActions(['fetchRents', 'addRentRequest', 'removeRentRequest', 'updateRentRequest']),\r\n\r\n    async removeRent (id) {\r\n      this.loading = true\r\n      this.errorMessage = ''\r\n      try {\r\n        await this.removeRentRequest(id)\r\n      } catch (err) {\r\n        this.errorMessage = err.message\r\n      }\r\n      this.loading = false\r\n    },\r\n\r\n    async addRent (form) {\r\n      this.addFormVisible = false\r\n      this.loading = true\r\n      this.errorMessage = ''\r\n      try {\r\n        await this.addRentRequest({ ...form, itemId: this.$route.params.itemId })\r\n      } catch (err) {\r\n        this.errorMessage = err.message\r\n      }\r\n      this.loading = false\r\n    },\r\n\r\n    async editRent (form) {\r\n      this.editFormVisible = false\r\n      this.loading = true\r\n      this.errorMessage = ''\r\n      try {\r\n        await this.updateRentRequest({ ...form })\r\n      } catch (err) {\r\n        this.errorMessage = err.message\r\n      }\r\n      this.loading = false\r\n    }\r\n\r\n  },\r\n  async created () {\r\n    this.loading = true\r\n    this.errorMessage = ''\r\n    try {\r\n      if (!this.$route.params.itemId) throw new Error('No item selected')\r\n      else await this.fetchRents(this.$route.params.itemId)\r\n    } catch (err) {\r\n      this.errorMessage = err.message\r\n    }\r\n    this.loading = false\r\n  },\r\n  components: { Alert, RentsList, Spinner, RentForm, ButtonItem }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rents.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rents.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rents.vue?vue&type=template&id=2bb159e5&\"\nimport script from \"./Rents.vue?vue&type=script&lang=js&\"\nexport * from \"./Rents.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}